import{_ as e}from"./ContentWrap.vue_vue_type_script_setup_true_lang-SF99PU52.js";import{r as t,d as a,A as o,o as l,i as n,w as u,e as r,a as s,J as p,c as d,f as i,B as c,t as m}from"./index-SLBLGd9V.js";import"./el-card-sKcKiu2J.js";import"./el-popper-bilUBKzH.js";const v={key:0},y={key:0},_={key:1},b={key:1},C=a({__name:"useClipboard",setup(a){const{copy:C,copied:x,text:f,isSupported:g}=(()=>{const e=t(!1),a=t(""),o=t(!1);navigator.clipboard||document.execCommand?o.value=!0:o.value=!1;const l=()=>{setTimeout((()=>{e.value=!1}),1500)};return{copy:t=>{if(navigator.clipboard)return void navigator.clipboard.writeText(t).then((()=>{a.value=t,e.value=!0,l()}));const o=document.createElement("input");o.setAttribute("readonly","readonly"),o.setAttribute("value",t),document.body.appendChild(o),o.select(),o.setSelectionRange(0,9999),document.execCommand("copy")&&(a.value=t,document.execCommand("copy"),e.value=!0,l()),document.body.removeChild(o)},text:a,copied:e,isSupported:o}})(),k=t("");return(t,a)=>{const h=o("BaseButton");return l(),n(s(e),{title:"useClipboard"},{default:u((()=>[r(s(p),{modelValue:k.value,"onUpdate:modelValue":a[0]||(a[0]=e=>k.value=e),placeholder:"请输入要复制的内容"},null,8,["modelValue"]),s(g)?(l(),d("div",v,[r(h,{onClick:a[1]||(a[1]=e=>s(C)(k.value)),type:"primary",class:"mt-20px"},{default:u((()=>[s(x)?(l(),d("span",_,"已复制")):(l(),d("span",y,"复制"))])),_:1}),i("p",null,[c(" 当前已复制: "),i("code",null,m(s(f)||"none"),1)])])):(l(),d("p",b," 你的浏览器不支持 Clipboard API "))])),_:1})}}});export{C as default};
