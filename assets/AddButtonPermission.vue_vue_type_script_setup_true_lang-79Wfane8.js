import{F as e}from"./Form-qHN5jLzI.js";import{d as a,dK as o,cZ as l,q as s,A as t,o as r,i as u,w as m,e as n,a as i,f as d,B as p}from"./index-eSpxw_vp.js";import{E as c}from"./el-drawer-9TWXvwEM.js";import{u as f}from"./useForm-e10k02TE.js";import{u as v}from"./useValidator-TXxFGpxA.js";const V=a({__name:"AddButtonPermission",props:{modelValue:{type:Boolean}},emits:o(["confirm"],["update:modelValue"]),setup(a,{emit:o}){const V=l(a,"modelValue"),{required:g}=v(),_=s([{field:"label",label:"label",component:"Input",colProps:{span:24}},{field:"value",label:"value",component:"Input",colProps:{span:24}}]),{formRegister:b,formMethods:j}=f(),{getFormData:w,getElFormExpose:y}=j,B=o,F=s({label:[g()],value:[g()]}),h=async()=>{const e=await y();if(!e)return;if(await(null==e?void 0:e.validate().catch((e=>{})))){const e=await w();B("confirm",e),V.value=!1}};return(a,o)=>{const l=t("BaseButton");return r(),u(i(c),{modelValue:V.value,"onUpdate:modelValue":o[1]||(o[1]=e=>V.value=e),title:"新增按钮权限"},{default:m((()=>[n(i(e),{rules:F,onRegister:i(b),schema:_},null,8,["rules","onRegister","schema"])])),footer:m((()=>[d("div",null,[n(l,{onClick:o[0]||(o[0]=()=>V.value=!1)},{default:m((()=>[p("取消")])),_:1}),n(l,{type:"primary",onClick:h},{default:m((()=>[p("确认")])),_:1})])])),_:1},8,["modelValue"])}}});export{V as _};
