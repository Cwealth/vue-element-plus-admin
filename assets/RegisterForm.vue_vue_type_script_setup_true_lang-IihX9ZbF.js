import{F as e}from"./Form-qHN5jLzI.js";import{d as o,q as s,e as l,J as r,H as a,F as t,r as n,o as d,i,a as c,O as p,k as m}from"./index-eSpxw_vp.js";import{u}from"./useForm-e10k02TE.js";import{u as f}from"./useValidator-TXxFGpxA.js";function g(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!p(e)}const h=o({__name:"RegisterForm",emits:["to-login"],setup(o,{emit:p}){const h=p,{formRegister:w,formMethods:P}=u(),{getElFormExpose:b}=P,{t:v}=m(),{required:y}=f(),k=s([{field:"title",colProps:{span:24},formItemProps:{slots:{default:()=>l("h2",{class:"text-2xl font-bold text-center w-[100%]"},[v("login.register")])}}},{field:"username",label:v("login.username"),value:"",component:"Input",colProps:{span:24},componentProps:{placeholder:v("login.usernamePlaceholder")}},{field:"password",label:v("login.password"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:v("login.passwordPlaceholder")}},{field:"check_password",label:v("login.checkPassword"),value:"",component:"InputPassword",colProps:{span:24},componentProps:{style:{width:"100%"},strength:!0,placeholder:v("login.passwordPlaceholder")}},{field:"code",label:v("login.code"),colProps:{span:24},formItemProps:{slots:{default:e=>l("div",{class:"w-[100%] flex"},[l(r,{modelValue:e.code,"onUpdate:modelValue":o=>e.code=o,placeholder:v("login.codePlaceholder")},null)])}}},{field:"register",colProps:{span:24},formItemProps:{slots:{default:()=>{let e,o;return l(t,null,[l("div",{class:"w-[100%]"},[l(a,{type:"primary",class:"w-[100%]",loading:F.value,onClick:I},g(e=v("login.register"))?e:{default:()=>[e]})]),l("div",{class:"w-[100%] mt-15px"},[l(a,{class:"w-[100%]",onClick:j},g(o=v("login.hasUser"))?o:{default:()=>[o]})])])}}}}]),x={username:[y()],password:[y()],check_password:[y()],code:[y()]},j=()=>{h("to-login")},F=n(!1),I=async()=>{const e=await b();null==e||e.validate((async e=>{if(e)try{F.value=!0,j()}finally{F.value=!1}}))};return(o,s)=>(d(),i(c(e),{schema:k,rules:x,"label-position":"top","hide-required-asterisk":"",size:"large",class:"dark:border-1 dark:border-[var(--el-border-color)] dark:border-solid",onRegister:c(w)},null,8,["schema","onRegister"]))}});export{h as _};
